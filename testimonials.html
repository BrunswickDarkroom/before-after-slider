<!DOCTYPE html>
<html>
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">

<style>

body{
margin:0;
font-family:sans-serif;
background:#ffffff;
}

/* Container */

.slider{

max-width:900px;
margin:auto;
overflow:hidden;
padding:20px;

}

/* Review card */

.review{

background:white;
border-radius:14px;
padding:24px;

box-shadow:0 5px 20px rgba(0,0,0,.08);

margin-bottom:20px;

}

/* Review text */

.review-text{

position:relative;

font-size:16px;
line-height:1.5em;

margin-bottom:12px;

/* Clamp */

display:-webkit-box;
-webkit-line-clamp:6;
-webkit-box-orient:vertical;

overflow:hidden;

transition:.3s;

}

/* Expanded state */

.review-text.expanded{

-webkit-line-clamp:unset;

}

/* Fade */

.review-text::after{

content:"";

position:absolute;

bottom:0;
left:0;
right:0;
height:30px;

background:linear-gradient(
rgba(255,255,255,0),
rgba(255,255,255,1)
);

}

/* Remove fade when expanded */

.review-text.expanded::after{

display:none;

}

/* Read More */

.readmore{

font-size:14px;
font-weight:600;

cursor:pointer;

color:#333;

margin-top:6px;

}

/* Name */

.review-name{

font-weight:600;
margin-top:12px;

}

/* Stars */

.stars{

color:#f5b301;
margin-bottom:8px;

}

</style>


</head>


<body>


<div class="slider" id="reviews">

Loading reviews...

</div>


<script>


const sheetURL =
"https://docs.google.com/spreadsheets/d/e/2PACX-1vQZXPZDKBNB9IPq3vZ-6aE6gktPWVuO88xMy2UgCCJ8qbhguOQ0NECV_8tUjzC0uzL2WSX5h6K-CbUQ/pub?gid=0&single=true&output=csv";


fetch(sheetURL)
.then(r=>r.text())
.then(data=>{

const rows=data.split("\n").slice(1);

let html="";

rows.forEach(row=>{

const cols=row.split(",");

const name=cols[0];
const text=cols[1];
const rating=cols[2];

let stars="★★★★★".slice(0,rating);


html+=`

<div class="review">

<div class="stars">${stars}</div>

<div class="review-text">

${text}

</div>

<div class="readmore">

Read more

</div>

<div class="review-name">

${name}

</div>

</div>

`;

});


document.getElementById("reviews").innerHTML=html;


/* Read more toggle */

document.querySelectorAll(".readmore").forEach(btn=>{

btn.onclick=function(){

const text=this.previousElementSibling;

text.classList.toggle("expanded");

this.innerText=
text.classList.contains("expanded")
? "Read less"
: "Read more";

};

});


});


</script>


</body>

</html>
